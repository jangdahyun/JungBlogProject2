<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<!-- font -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
	<!-- 구글 아이콘 -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<!-- Core theme CSS (includes Bootstrap)-->
	<!-- UIkit CSS -->
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/css/uikit.min.css" />
	
	<!-- 부트스트랩 -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Ajax처리를 위한 포함 -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<!-- UIkit JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit-icons.min.js"></script>
		
	<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	<title>마이페이지</title>
</head>
<style>
	#icon{
		font-size: 50px;
		}
		
	#indexgreen{
		width: 760px;
        height: 240px;
        background-color: #f0f0f0;
        border: 2px solid #03D580;
        border-radius: 10px;
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
		}
		
	#indexblack{
		margin-top:20px;
		width: 760px;
        height: 110px;
        background-color: #f0f0f0;
        border: 2px solid #333;
        border-radius: 10px;
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
		}
	
	#updatePw_box{
		margin-top:20px;
		width: 760px;
        height: 50px;
        background-color: #f0f0f0;
        border: 2px solid #333;
        border-radius: 10px;
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
		}
		
	#boxicon{
		padding-left: 10px;
		width: 24px;
		height: 24px;
		}
		
	.hr{
		width: 100%; height: 1px; background: #525040; border-radius: 50%; margin: 8px 0;
		}
	
	#popupBackground{
		position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 5; display: none;
		}
	
	#popup1{
		position: absolute; top: 20%; left: 40%; background: #aaa; width: 350px; height: 500px; display: none; border-radius: 12px; padding: 15px; z-index: 7;
	}
	#popup1 > div{position: relative; width: 100%; height: 100%;}
	
	#popup2{
		position: absolute; top: 20%; left: 40%; background: #aaa; width: 350px; height: 500px; display: none; border-radius: 12px; padding: 15px; z-index: 7;
	}
	#popup2 > div{position: relative; width: 100%; height: 100%;}
	
	#popup3{
		position: absolute; top: 20%; left: 40%; background: #aaa; width: 350px; height: 500px; display: none; border-radius: 12px; padding: 15px; z-index: 7;
	}
	#popup3 > div{position: relative; width: 100%; height: 100%;}
	
	#popup4{
		position: absolute; top: 20%; left: 40%; background: #aaa; width: 350px; height: 500px; display: none; border-radius: 12px; padding: 15px; z-index: 7;
	}
	#popup4 > div{position: relative; width: 100%; height: 100%;}
	
	.contact_edit_titl{
	    margin-bottom: 20px;
	    padding: 30px 14px;
	    border-bottom: 1px solid #303038;
	    font-size: 20px;
	    font-weight: 300;
	    line-height: 28px;
	    letter-spacing: -.8px;
	    color: #1e1e23;
	    word-break: break-all;
		}
	.accent {
    	color: #03D580;
    }
    .asd{background: #fff; border-radius: 10px; width: 100%; position: absolute; bottom: 20px; left: 0;}
</style>

<body style="display: flex;">
	<header class="header" role="banner" style="margin-left: 250px; width: 300px; text-align: center; box-shadow: 4px 0 8px rgba(0, 0, 0.1, 0.3);">
		<div class="header_subuindex" >
			<h2 id="headerlogo"><b> <img src="Spotify_Logo_RGB_White.png" alt="logo"/> JungBlog</b></h2>
		</div>
		<div class="profile_area">
			<p class="usernic" style="font-size: 15px; margin-left: 15%">[[${user.nickName}]] <span class="material-symbols-outlined">badge</span> </p>
			
			<img src="/fileicon/menubar.png" id="menuIcon" alt="menuIcon"style="width: 150px; height: 150px; margin-left: 35px;"  />
			<span></span>
			<div class="profile">
				<div style="margin-left: 15%">
				<p class="userid" style="font-weight: bold;">[[${user.name}]]
				<p class="useremail" >[[${user.username}]]
				<span class="material-symbols-outlined">edit</span>
				</div>
			</div>
			<hr />
			<div class="header_left" id="headerLeft" >
				<ul class="left_menu" role="menu" style="list-style-type: none; ">
					<li style="font-size: 30px; margin-bottom: 20px;" th:onclick="" >쓴 글</li>
					<li style="font-size: 30px; margin-bottom: 20px;" th:onclick="">좋아요 글</li>
					<li style="font-size: 30px; margin-bottom: 20px;" th:onclick="">숨긴 글</li>
				</ul>
				<hr />
				<div class="menu2" role="menu">
					<a href="/logout">Logout</a>
					<hr />
					<a href="/탈퇴" style="font-size: 20px; margin-bottom: 20px;" th:onclick="">회원탈퇴</a>
				</div>
			</div>
		</div>	
	</header>
	<div id="container" class="container" style="margin-left: 30px; background: #F9FBFC; width: 1000px; height: 800px;">
		<div id="content" class="content">
			<div id="main" role="main">
				<div id="headertop" class="headertop">
					<div class="menuBar" style="text-align: right; margin-top: 20px; margin-right: 30px; ">
                		<span id="icon" class="material-symbols-outlined" th:onclick="gallery">gallery_thumbnail</span>
                		<span id="icon" class="material-symbols-outlined" th:onclick="file">folder_open</span>
                		<span id="icon" class="material-symbols-outlined" th:onclick="support">support_agent</span>
                		<span id="icon" class="material-symbols-outlined" th:onclick="download">download</span>
					</div>
					<table id="incident_list_table" class="uk-table uk-table-hover uk-table-divider uk-table-middle uk-table-small">
						<colgroup>
							<col width="45px" />
							<col width="120px" />
							<col width="200px" />
							<col width="95px" />
							<col width="90px" />
							<col width="60px" />
							<col width="60px" />
						</colgroup>
						<thead>
							<tr>
								<th class="" style="line-height: 2">NO</th>
								<th class="" >
									<select class="uk-select" id="selectBox" style="height: 25px">
						                <option selected value="0">카테고리</option>
						                <option th:each="category : ${categoryList}" th:value="${category}">[[${category}]]</option>
						            </select>
								</th>
								<th class="" style="line-height: 2">제목</th>
								<th class="" style="line-height: 2">글쓴이</th>
								<th class="" style="line-height: 2">게시일</th>
								<th class="" style="line-height: 2">조회수</th>
								<th class="" style="line-height: 2">좋아요</th>
							</tr>
						</thead>
						<tbody>
							<tr th:if="${#lists.isEmpty(pv.list)}">
								<td colspan="8">등록된 글이 없습니다.</td>
				    		</tr>
								<tr th:each="vo, vs :${boards}" th:onclick="view([[${vo.idx}]])"
									style="cursor: pointer;">
									<td>[[${vs.count}]]</td>
									<td>[[${vo.categoryName}]]</td>
									<td>[[${vo.title}]]</td>
									<td>[[${vo.member.nickName}]]</td>
									<td th:text="${#dates.format(vo.regDate, 'yy-MM-dd')}"></td>
									<td>[[${vo.readCount}]]</td>
									<td>[[${vo.countHeart}]]</td>
								</tr>
							</th:block>
						</tbody>
					</table>
					
					
					
					
				</div>
			</div>
		</div>	
	</div>
    <script type="text/javascript">
    	let currentPage = 1; // 초기 페이지
		let totalPage = 0;
		let search = ''; // 초기 검색어
			$(function(){
				updateTimer();
				totalPage = $("#totalPage").val();
			})
			window.addEventListener('scroll', function() {
		         // 현재 스크롤 위치를 가져옵니다.
		         const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
		         // 현재 브라우저 창의 높이를 가져옵니다.
		         const windowHeight = window.innerHeight;
		         // 문서의 총 높이를 가져옵니다.
		         const documentHeight = Math.max(
		             document.body.scrollHeight, document.documentElement.scrollHeight,
		             document.body.offsetHeight, document.documentElement.offsetHeight,
		             document.body.clientHeight, document.documentElement.clientHeight
		         );
	
		         // 현재 스크롤 위치와 브라우저 창의 높이, 문서의 총 높이를 비교하여 맨 아래에 도달했는지 확인합니다.
		         if (scrollTop + windowHeight >= documentHeight) {
		            
		             NextPage();
		         }
		     });
   	</script>
</body>
</html>